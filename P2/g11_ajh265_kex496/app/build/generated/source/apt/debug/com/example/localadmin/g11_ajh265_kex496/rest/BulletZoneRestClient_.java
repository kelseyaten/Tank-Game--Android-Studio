//
// DO NOT EDIT THIS FILE, IT HAS BEEN GENERATED USING AndroidAnnotations 3.1.
//


package com.example.localadmin.g11_ajh265_kex496.rest;

import java.util.HashMap;
import android.content.Context;
import com.example.localadmin.g11_ajh265_kex496.util.BooleanWrapper;
import com.example.localadmin.g11_ajh265_kex496.util.GridWrapper;
import com.example.localadmin.g11_ajh265_kex496.util.LongWrapper;
import org.androidannotations.api.rest.RestErrorHandler;
import org.springframework.core.NestedRuntimeException;
import org.springframework.http.HttpMethod;
import org.springframework.http.converter.StringHttpMessageConverter;
import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;
import org.springframework.web.client.RestTemplate;

public final class BulletZoneRestClient_
    implements BulletZoneRestClient
{

    private String rootUrl;
    private RestErrorHandler restErrorHandler;
    private RestTemplate restTemplate;

    public BulletZoneRestClient_(Context context) {
        rootUrl = "http://stman1.cs.unh.edu:6191/games";
        restTemplate = new RestTemplate();
        restTemplate.getMessageConverters().add(new StringHttpMessageConverter());
        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());
    }

    @Override
    public void setRootUrl(String rootUrl) {
        this.rootUrl = rootUrl;
    }

    @Override
    public void setRestErrorHandler(RestErrorHandler arg0) {
        this.restErrorHandler = arg0;
    }

    @Override
    public GridWrapper grid() {
        try {
            return restTemplate.exchange(rootUrl.concat(""), HttpMethod.GET, null, GridWrapper.class).getBody();
        } catch (NestedRuntimeException e) {
            if (restErrorHandler!= null) {
                restErrorHandler.onRestClientExceptionThrown(e);
                return null;
            } else {
                throw e;
            }
        }
    }

    @Override
    public LongWrapper join() {
        try {
            return restTemplate.exchange(rootUrl.concat(""), HttpMethod.POST, null, LongWrapper.class).getBody();
        } catch (NestedRuntimeException e) {
            if (restErrorHandler!= null) {
                restErrorHandler.onRestClientExceptionThrown(e);
                return null;
            } else {
                throw e;
            }
        }
    }

    @Override
    public BooleanWrapper move(long tankId, byte direction) {
        try {
            HashMap<String, Object> urlVariables = new HashMap<String, Object>();
            urlVariables.put("tankId", tankId);
            urlVariables.put("direction", direction);
            return restTemplate.exchange(rootUrl.concat("/{tankId}/move/{direction}"), HttpMethod.PUT, null, BooleanWrapper.class, urlVariables).getBody();
        } catch (NestedRuntimeException e) {
            if (restErrorHandler!= null) {
                restErrorHandler.onRestClientExceptionThrown(e);
                return null;
            } else {
                throw e;
            }
        }
    }

    @Override
    public BooleanWrapper fire(long tankId) {
        try {
            HashMap<String, Object> urlVariables = new HashMap<String, Object>();
            urlVariables.put("tankId", tankId);
            return restTemplate.exchange(rootUrl.concat("/{tankId}/fire"), HttpMethod.PUT, null, BooleanWrapper.class, urlVariables).getBody();
        } catch (NestedRuntimeException e) {
            if (restErrorHandler!= null) {
                restErrorHandler.onRestClientExceptionThrown(e);
                return null;
            } else {
                throw e;
            }
        }
    }

    @Override
    public BooleanWrapper turn(long tankId, byte direction) {
        try {
            HashMap<String, Object> urlVariables = new HashMap<String, Object>();
            urlVariables.put("tankId", tankId);
            urlVariables.put("direction", direction);
            return restTemplate.exchange(rootUrl.concat("/{tankId}/turn/{direction}"), HttpMethod.PUT, null, BooleanWrapper.class, urlVariables).getBody();
        } catch (NestedRuntimeException e) {
            if (restErrorHandler!= null) {
                restErrorHandler.onRestClientExceptionThrown(e);
                return null;
            } else {
                throw e;
            }
        }
    }

    @Override
    public BooleanWrapper leave(long tankId) {
        try {
            HashMap<String, Object> urlVariables = new HashMap<String, Object>();
            urlVariables.put("tankId", tankId);
            return restTemplate.exchange(rootUrl.concat("/{tankId}/leave"), HttpMethod.DELETE, null, BooleanWrapper.class, urlVariables).getBody();
        } catch (NestedRuntimeException e) {
            if (restErrorHandler!= null) {
                restErrorHandler.onRestClientExceptionThrown(e);
                return null;
            } else {
                throw e;
            }
        }
    }

}
